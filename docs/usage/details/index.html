<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="K/N & K/JS # Kotlin/Native and Kotlin/JS are not supported. Because they lack context receiver which is essential in this tool.
Injection style # Always inject like prival val x get() = _X. Just obey it which is confusing to tyros but automatically understandable when you get familiar.
Compatibility # Tracer is compatible with ksp 1.7.0-1.0.6 at least. Although mostly it works well with ksp, you&rsquo;d better try to make your ksp plugin in a high stable version, since ksp api is not stable and many bugs are fixed every version."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Details"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://apollokwok.github.io/TracerTutorial/docs/usage/details/"><title>Details | Tracer Tutorial</title><link rel=manifest href=/TracerTutorial/manifest.json><link rel=icon href=/TracerTutorial/favicon.png type=image/x-icon><link rel=stylesheet href=/TracerTutorial/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/TracerTutorial/flexsearch.min.js></script>
<script defer src=/TracerTutorial/en.search.min.a0324584b0926b5141cf10207488a4b01e77a7d62efca33754771579b0ef636e.js integrity="sha256-oDJFhLCSa1FBzxAgdIiksB53p9Yu/KM3VHcVebDvY24=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://apollokwok.github.io/TracerTutorial/docs/usage/details/index.xml title="Tracer Tutorial"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/TracerTutorial/><span>Tracer Tutorial</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/TracerTutorial/docs/setup/>Setup</a><ul></ul></li><li><span>Usage</span><ul><li><a href=/TracerTutorial/docs/usage/annotations/>Annotations</a><ul></ul></li><li><a href=/TracerTutorial/docs/usage/naming-rules/>Property naming rules</a><ul></ul></li><li><a href=/TracerTutorial/docs/usage/details/ class=active>Details</a><ul></ul></li><li><a href=/TracerTutorial/docs/usage/notes/>Notes</a><ul></ul></li></ul></li><li><a href=/TracerTutorial/docs/expectedOptimization/>Expected optimization</a><ul></ul></li><li><span>Extensions</span><ul><li><a href=/TracerTutorial/docs/extensions/traditional-android/>Traditional android</a><ul></ul></li></ul></li><li><a href=/TracerTutorial/docs/myWords/>My words</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/TracerTutorial/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Details</strong>
<label for=toc-control><img src=/TracerTutorial/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#kn--kjs>K/N & K/JS</a></li><li><a href=#injection-style>Injection style</a></li><li><a href=#compatibility>Compatibility</a></li><li><a href=#java>Java</a></li><li><a href=#type-alias>Type alias</a></li><li><a href=#partial-traceable-super-types>Partial traceable super types</a></li><li><a href=#elements-built-times-display>Elements built times display</a></li><li><a href=#options>Options</a></li><li><a href=#abstract--open-class-elements>Abstract / open class elements</a></li><li><a href=#var>Var</a></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=kn--kjs>K/N & K/JS
<a class=anchor href=#kn--kjs>#</a></h2><p><code>Kotlin/Native</code> and <code>Kotlin/JS</code> are not supported. Because they lack <code>context receiver</code> which is
essential in this tool.</p><h2 id=injection-style>Injection style
<a class=anchor href=#injection-style>#</a></h2><p>Always inject like <code>prival val x get() = _X</code>. Just obey it which is confusing to tyros but
automatically understandable when you get familiar.</p><h2 id=compatibility>Compatibility
<a class=anchor href=#compatibility>#</a></h2><p><code>Tracer</code> is compatible with <code>ksp 1.7.0-1.0.6</code> at least. Although mostly it works well with <code>ksp</code>,
you&rsquo;d better try to make your <code>ksp plugin</code> in a high stable version, since <code>ksp api</code> is not stable
and many bugs are fixed every version.</p><h2 id=java>Java
<a class=anchor href=#java>#</a></h2><p>Java files are forbidden to use <code>Tracer</code>. Because I don&rsquo;t want to spend time analyzing those
outdated things. But it&rsquo;s absolutely safe to reference <code>java classes and functions</code> in kotlin files.</p><h2 id=type-alias>Type alias
<a class=anchor href=#type-alias>#</a></h2><p>Alias types are always converted to its actual types.
  </p><h2 id=partial-traceable-super-types>Partial traceable super types
<a class=anchor href=#partial-traceable-super-types>#</a></h2><p><img src=generic%281%29.png alt></p><hr><p><img src=generic%282%29.png alt></p><hr><p><img src=_generic.png alt><br></p><h2 id=elements-built-times-display>Elements built times display
<a class=anchor href=#elements-built-times-display>#</a></h2><p><img src=builtTimesComment.png alt><br></p><h2 id=options>Options
<a class=anchor href=#options>#</a></h2><p>You could enable these in <code>build.gradle</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl>  <span class=n>ksp</span><span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>arg</span><span class=o>(</span><span class=s2>&#34;tracer.allInternallyGenerated&#34;</span><span class=o>,</span> <span class=s2>&#34;&#34;</span><span class=o>)</span>  
</span></span><span class=line><span class=cl>      <span class=n>arg</span><span class=o>(</span><span class=s2>&#34;tracer.fullNameProperties&#34;</span><span class=o>,</span> <span class=s2>&#34;&#34;</span><span class=o>)</span>  
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span></code></pre></div><p><video controls preload=auto width=100% playsinline class=html-video>
<source src=/TracerTutorial/docs/usage/details/option.mp4 type=video/mp4><span>Your browser doesn't support embedded videos, but don't worry, you can <a href=/TracerTutorial/docs/usage/details/option.mp4>download it</a> and watch it with your favorite video player!</span></video><br><br></p><h2 id=abstract--open-class-elements>Abstract / open class elements
<a class=anchor href=#abstract--open-class-elements>#</a></h2><p>Elements inside abstract and open classes are all traced with level tags (<code>_˚NonFinalSample</code> in
this case) to be distinguished in subclasses.</p><p><img src=abstract.png alt><br><img src=_abstract.png alt></p><h2 id=var>Var
<a class=anchor href=#var>#</a></h2><p>Source code</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@Tracer</span><span class=p>.</span><span class=n>Root</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>VarSample</span> <span class=p>:</span> <span class=n>VarSampleTracer</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>var</span> <span class=py>foo</span><span class=p>:</span> <span class=n>Foo</span> <span class=p>=</span> <span class=n>TODO</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=k>val</span> <span class=py>baz</span> <span class=p>=</span> <span class=n>Baz</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>override</span> <span class=k>val</span> <span class=py>_VarSample</span><span class=p>:</span> <span class=n>VarSample</span> <span class=p>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Generated code</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>public</span> <span class=k>var</span> <span class=py>VarSampleTracer</span><span class=p>.</span><span class=n>_Foo</span> 
</span></span><span class=line><span class=cl>  <span class=k>inline</span> <span class=k>get</span><span class=p>()</span> <span class=p>=</span> <span class=n>_VarSample</span><span class=p>.</span><span class=n>foo</span> <span class=k>as</span> <span class=n>Foo</span>    
</span></span><span class=line><span class=cl>  <span class=k>inline</span> <span class=k>set</span><span class=p>(</span><span class=k>value</span><span class=p>){</span> 
</span></span><span class=line><span class=cl>      <span class=n>_VarSample</span><span class=p>.</span><span class=n>foo</span> <span class=p>=</span> <span class=k>value</span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></div><p>Reference sample</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>context</span> <span class=p>(</span><span class=n>VarSampleTracer</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Baz</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span> <span class=k>var</span> <span class=py>foo</span><span class=p>:</span> <span class=n>Foo</span>  
</span></span><span class=line><span class=cl>    <span class=k>get</span><span class=p>()</span> <span class=p>=</span> <span class=n>_Foo</span>
</span></span><span class=line><span class=cl>    <span class=k>set</span><span class=p>(</span><span class=k>value</span><span class=p>)</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>      <span class=n>_Foo</span> <span class=p>=</span> <span class=k>value</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Expected reference after authoritative support.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>context</span> <span class=p>(</span><span class=n>VarSampleTracer</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Baz</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span> <span class=k>var</span> <span class=py>foo</span><span class=p>:</span> <span class=n>Foo</span> <span class=k>by</span> <span class=k>this</span><span class=nd>@VarSampleTracer</span><span class=o>::</span><span class=n>_Foo</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><br></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#kn--kjs>K/N & K/JS</a></li><li><a href=#injection-style>Injection style</a></li><li><a href=#compatibility>Compatibility</a></li><li><a href=#java>Java</a></li><li><a href=#type-alias>Type alias</a></li><li><a href=#partial-traceable-super-types>Partial traceable super types</a></li><li><a href=#elements-built-times-display>Elements built times display</a></li><li><a href=#options>Options</a></li><li><a href=#abstract--open-class-elements>Abstract / open class elements</a></li><li><a href=#var>Var</a></li></ul></li></ul></nav></div></aside></main></body></html>